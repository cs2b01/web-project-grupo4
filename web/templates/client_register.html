<!DOCTYPE html>
<html lang="es" >

<head>
    <meta charset="UTF-8">
    <title>Registro cliente</title>
    <link rel="icon" href="/static/images/icono.ico">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" href="/static/css/style_registro.css">

</head>

<body>

<form id="msform">
    <ul id="progressbar">
        <li class="active">Configuración de la cuenta</li>
        <li>Información personal</li>
        <li>Bienvenido a Netchmap</li>
    </ul>

    <fieldset>
        <h2 class="fs-title">Configuración de la cuenta</h2>
        <h3 class="fs-subtitle">Únete a la nuestra comunidad</h3>
        <input type="text" name="username" id="username" placeholder="Correo electrónico" />
        <input type="password" name="password" id="password" placeholder="Contraseña" />
        <input type="password" name="password_1" id="password_1" placeholder="Confirmar contraseña" />
        <input type="button" name="next" class="next action-button" value="Siguiente" />
    </fieldset>

    <fieldset>
        <h2 class="fs-title">Información personal</h2>
        <h3 class="fs-subtitle">Cuéntanos sobre ti</h3>
        <input type="text" name="name" id="name" placeholder="Nombre" />
        <input type="text" name="fullname" id="fullname" placeholder="Apellido" />
        <input type="text" name="phone" id="phone" placeholder="Celular" />
        <input type="text" name="address" id="address" placeholder="Dirección" />
        <input type="button" name="previous" class="previous action-button" value="Atrás" />
        <input type="button" name="next" class="next action-button" value="Siguiente" />
    </fieldset>

    <fieldset>
        <h2 class="fs-title">Bienvenido a Netchmap</h2>
        <h3 class="fs-subtitle">Gracias por unirte</h3>
        <br/>
        <br/>
        <h4 class="fs-downtext">Cuando cuentas con movilidad en tu ciudad, todo es posible. Las oportunidades que se te presentan, de pronto, están más a tu alcance. Con la ayuda de nuestra tecnología, algo tan sencillo como tocar un botón para pedir un viaje dio lugar a que miles de millones personas de todo el mundo se conecten para llegar a donde quieren.</h4>
        <br/>
        <br/>
        <input type="button" name="previous" class="previous action-button" value="Atrás" />
        <input type="button" value="Finalizar" class="submit action-button" onclick="getDatos()" />
    </fieldset>

</form>

<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
<script  src="/static/js/script_registro.js"></script>

<script>

    function getDatos(){
        alert('Registrando');
        var username = $('#username').val();
        var password = $('#password').val();
        var name = $('#name').val();
        var fullname = $('#fullname').val();
        var phone = $('#phone').val();
        var address = $('#address').val();
        var message = JSON.stringify({
            "username": username,
            "password": password,
            "name": name,
            "fullname": fullname,
            "phone": phone,
            "address": address
        });
        $.ajax({
            url:'/clients',
            type:'POST',
            contentType: 'application/json',
            data : message,
            dataType:'json',
            success: function(response){
                alert('Ahora inicia sesión');
                window.location.href="/static/index.html";
            },
            error: function(response){
                alert('Inténtalo nuevamente');
                window.location.href="/static/client_register.html";
            }
        });
    }

</script>

</body>

</html>